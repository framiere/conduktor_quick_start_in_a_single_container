# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: applicationservices.messaging.example.com
spec:
  group: messaging.example.com
  names:
    kind: ApplicationService
    plural: applicationservices
    singular: applicationservice
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              name:
                description: Application service name
                type: string
            required:
            - name
            type: object
          status:
            type: object
        type: object
    served: true
    storage: true
---
# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: kafkaclusters.messaging.example.com
spec:
  group: messaging.example.com
  names:
    kind: KafkaCluster
    plural: kafkaclusters
    singular: kafkacluster
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              applicationServiceRef:
                description: Reference to ApplicationService CR
                type: string
              clusterId:
                description: Conduktor Virtual Cluster ID
                type: string
            required:
            - applicationServiceRef
            - clusterId
            type: object
          status:
            type: object
        type: object
    served: true
    storage: true
---
# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: serviceaccounts.messaging.example.com
spec:
  group: messaging.example.com
  names:
    kind: ServiceAccount
    plural: serviceaccounts
    singular: serviceaccount
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              applicationServiceRef:
                description: Reference to ApplicationService CR
                type: string
              clusterRef:
                description: Reference to KafkaCluster CR
                type: string
              dn:
                description: Distinguished Names (DN) for certificates
                items:
                  type: string
                type: array
              name:
                description: Service account name
                type: string
            required:
            - applicationServiceRef
            - clusterRef
            - dn
            - name
            type: object
          status:
            type: object
        type: object
    served: true
    storage: true
---
# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: topics.messaging.example.com
spec:
  group: messaging.example.com
  names:
    kind: Topic
    plural: topics
    singular: topic
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              applicationServiceRef:
                description: Reference to ApplicationService CR
                type: string
              config:
                additionalProperties:
                  type: string
                description: Topic configuration (key-value pairs)
                type: object
              name:
                description: Topic name
                maximum: 249.0
                pattern: "^[a-zA-Z0-9._-]+$"
                type: string
              partitions:
                description: Number of partitions
                maximum: 1000.0
                minimum: 1.0
                type: integer
              replicationFactor:
                description: Replication factor
                maximum: 5.0
                minimum: 1.0
                type: integer
              serviceRef:
                description: Reference to ServiceAccount CR
                type: string
            required:
            - applicationServiceRef
            - name
            - serviceRef
            type: object
          status:
            type: object
        type: object
    served: true
    storage: true
---
# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: consumergroups.messaging.example.com
spec:
  group: messaging.example.com
  names:
    kind: ConsumerGroup
    plural: consumergroups
    singular: consumergroup
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              applicationServiceRef:
                description: Reference to ApplicationService CR
                type: string
              name:
                description: Consumer group name or prefix
                type: string
              patternType:
                description: Pattern type (LITERAL or PREFIXED)
                type: string
              serviceRef:
                description: Reference to ServiceAccount CR
                type: string
            required:
            - applicationServiceRef
            - name
            - serviceRef
            type: object
          status:
            type: object
        type: object
    served: true
    storage: true
---
# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: acls.messaging.example.com
spec:
  group: messaging.example.com
  names:
    kind: ACL
    plural: acls
    singular: acl
  scope: Namespaced
  versions:
  - name: v1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              applicationServiceRef:
                description: Reference to ApplicationService CR
                type: string
              consumerGroupRef:
                description: Reference to ConsumerGroup CR (mutually exclusive with
                  topicRef)
                type: string
              host:
                description: Host from which operations are allowed
                type: string
              operations:
                description: "Kafka operations (READ, WRITE, DESCRIBE, etc.)"
                items:
                  enum:
                  - ALL
                  - ALTER
                  - ALTER_CONFIGS
                  - CLUSTER_ACTION
                  - CREATE
                  - CREATE_TOKENS
                  - DELETE
                  - DESCRIBE
                  - DESCRIBE_CONFIGS
                  - DESCRIBE_TOKENS
                  - IDEMPOTENT_WRITE
                  - READ
                  - UNKNOWN
                  - WRITE
                  type: string
                type: array
              permission:
                description: Permission type (ALLOW or DENY)
                enum:
                - ALLOW
                - DENY
                type: string
              serviceRef:
                description: Reference to ServiceAccount CR
                type: string
              topicRef:
                description: Reference to Topic CR (mutually exclusive with consumerGroupRef)
                type: string
            required:
            - applicationServiceRef
            - operations
            - serviceRef
            type: object
            x-kubernetes-validations:
            - rule: "(has(self.topicRef) && !has(self.consumerGroupRef)) || (!has(self.topicRef) && has(self.consumerGroupRef))"
              message: "Exactly one of topicRef or consumerGroupRef must be specified"
          status:
            type: object
        type: object
    served: true
    storage: true
