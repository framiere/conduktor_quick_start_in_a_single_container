apiVersion: messaging.example.com/v1
kind: ServiceAccount
metadata:
  name: payments-admin-sa
  namespace: payments-team
spec:
  name: payments-admin
  clusterRef: production-cluster
  applicationServiceRef: payments-service
  dn:
    - "CN=payments-admin,OU=ServiceAccounts,O=PaymentsTeam,C=FR"
    - "CN=payments-backup-admin,OU=ServiceAccounts,O=PaymentsTeam,C=FR"
---
apiVersion: messaging.example.com/v1
kind: ServiceAccount
metadata:
  name: payments-consumer-sa
  namespace: payments-team
spec:
  name: payments-consumer
  clusterRef: production-cluster
  applicationServiceRef: payments-service
  dn:
    - "CN=payments-consumer-app,OU=Applications,O=PaymentsTeam,C=FR"
---
apiVersion: messaging.example.com/v1
kind: ServiceAccount
metadata:
  name: orders-processor-sa
  namespace: orders-team
spec:
  name: orders-processor
  clusterRef: orders-cluster
  applicationServiceRef: orders-service
  dn:
    - "CN=orders-processor,OU=Processors,O=OrdersTeam,C=FR"
    - "CN=orders-processor-v2,OU=Processors,O=OrdersTeam,C=FR"
    - "CN=orders-dlq-handler,OU=Processors,O=OrdersTeam,C=FR"
---
apiVersion: messaging.example.com/v1
kind: ServiceAccount
metadata:
  name: legacy-sa
  namespace: legacy-team
spec:
  name: legacy-app
  clusterRef: legacy-cluster
  applicationServiceRef: legacy-service
  dn:
    - "OU=LegacyApps,O=Company"
---
apiVersion: messaging.example.com/v1
kind: ServiceAccount
metadata:
  name: mtls-auto-sa
  namespace: payments-team
spec:
  name: mtls-auto-user
  clusterRef: production-cluster
  applicationServiceRef: payments-service
---
apiVersion: messaging.example.com/v1
kind: ServiceAccount
metadata:
  name: sasl-user-sa
  namespace: sasl-team
spec:
  name: sasl-user
  clusterRef: sasl-cluster
  applicationServiceRef: sasl-service
